{% extends 'base.html' %}
{% block content %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    {% block extrahead %}
    <link rel="stylesheet" href="{% static 'css/board.css' %}">
    {% endblock %}
</head>
<body>
    <div class="board-bar">
        <div class="board-guide">
            <div class="board-name">홍보게시판</div>
            <div class="board-text">홍보게시판의 건전한 운영과 모든 외대생의 자유로운 의사 표현을 위해 욕설과 비속어 사용을 자제 부탁드리며, 적발시 훕스라이브 사용이 제한될 수 있습니다.</div>
        </div>
        {% if user.is_authenticated %}
        <a href="{%url 'pr_new'%}" class="new-post-btn"><img src="{% static 'images/button-write-post@2x.png' %}"></a>
        {% endif %}
    </div>
    <div class="board-info">
        <div class="board-info-title">제목</div>
        <div class="board-info-writer">글쓴이</div>
        <div class="board-info-date">날짜</div>
        <div class="board-info-views">조회수</div>
    </div>
    {% for pr in prs %}
    <div class="post">
        <a href="{% url 'pr_detail' pr.id%}" class="post-detail">
            <div>
                <div class="post-title">{{pr.title}}</div>
                <div class="post-main">{{pr.summary}}</div>
            </div>
        </a>
        <div class="post-writer">{{pr.author}}</div>
        <div class="post-date"><div>{{pr.pub_date | date:'m/d H:i' }}</div></div>
        <div class="post-views">{{pr.update_counter}}</div>
    </div>
    {%endfor%}
    <div class="pagination">
        <a href="#" class="prev-page"></a>
        <div class="page-number">
            <a href="#" class="cur-page">1</a>
            <a href="#">2</a>
            <a href="#">3</a>
            <a href="#">4</a>
            <a href="#">5</a>
        </div>
        <a href="#" class="next-page"><img src="{% static 'images/keyboard-arrow-down-24px@2x.png' %}"></a>
    </div>
</body>
</html>
{% endblock %}

<div style="text-align:center">
    <div class="pagination">
    
        <div style="width:35%; margin: 5px;">
        {% if prs.has_previous %}
            <a class="abutton" href="?page=1">맨 앞으로</a>
            <a class="abutton" href="?page={{ prs.previous_page_number }}">이전</a>
        {% endif %}
        </div>

        <div style="width:30%; margin: 5px;">
        {% for page in prs.paginator.page_range %}
            {% if page >= prs.number|add:-2 and page <= prs.number|add:2 %}
            <span class="{% if page == prs.number %}current{% endif %}">
                <a href="?page={{ page }}">{{ page}}</a>
            </span>
            {% elif page >= prs.number|add:-3 and page <= prs.number|add:3 %}
                ..
            {% endif %}
        {% endfor %}
        </div>

        <div style="width:35%; margin: 5px;">
        {% if prs.has_next %}
            <a class="abutton" href="?page={{ prs.next_page_number }}">다음</a>
            <a class="abutton" href="?page={{ prs.paginator.num_pages }}">맨 뒤로</a>
        {% endif %}
        </div>
    </div>  
</div> 